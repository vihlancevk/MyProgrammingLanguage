CRT
PUSH 0
POP ex
CALL MAIN
HLT
:MAIN
PUSH ex
PUSH 1
ADD
POP ex
IN
PUSH ex
PUSH 0
ADD
POP dx
POP [dx]
IN
PUSH ex
PUSH 1
ADD
POP dx
POP [dx]
IN
PUSH ex
PUSH 2
ADD
POP dx
POP [dx]
PUSH 0
PUSH ex
PUSH 3
ADD
POP dx
POP [dx]
PUSH 0
PUSH ex
PUSH 4
ADD
POP dx
POP [dx]
PUSH 0
PUSH ex
PUSH 5
ADD
POP dx
POP [dx]
PUSH ex
PUSH 0
ADD
POP dx
PUSH [dx]
PUSH 0
JE next0
JMP next1
:next0
PUSH ex
PUSH 2
ADD
POP dx
PUSH [dx]
POP ax
PUSH ex
PUSH 1
ADD
POP dx
PUSH [dx]
POP bx
PUSH ex
PUSH ex
PUSH 6
ADD
POP ex
CALL 'f'
POP ex
PUSH gx
PUSH ex
PUSH 4
ADD
POP dx
POP [dx]
PUSH ex
PUSH 4
ADD
POP dx
PUSH [dx]
PUSH 0
PUSH 1
SUB
JE next2
JMP next3
:next2
PUSH 0
PUSH 1
SUB
OUT
RET
:next3
PUSH ex
PUSH 4
ADD
POP dx
PUSH [dx]
PUSH 0
JE next4
JMP next5
:next4
PUSH 0
OUT
RET
:next5
PUSH 1
OUT
PUSH ex
PUSH 4
ADD
POP dx
PUSH [dx]
OUT
RET
:next1
RET
:'f'
PUSH ax
PUSH ex
PUSH 0
ADD
POP dx
POP [dx]
PUSH bx
PUSH ex
PUSH 1
ADD
POP dx
POP [dx]
PUSH ex
PUSH 1
ADD
POP dx
PUSH [dx]
PUSH 0
JE next6
PUSH 0
PUSH ex
PUSH 0
ADD
POP dx
PUSH [dx]
SUB
PUSH ex
PUSH 1
ADD
POP dx
PUSH [dx]
DIV
POP gx
RET
JMP next7
:next6
PUSH ex
PUSH 0
ADD
POP dx
PUSH [dx]
PUSH 0
JE next8
PUSH 0
POP gx
RET
JMP next9
:next8
PUSH 0
PUSH 1
SUB
POP gx
RET
:next9
:next7
